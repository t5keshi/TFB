<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="icon" sizes="any" href="favicon.ico"/>
  <link rel="stylesheet" href="assets/styles.css"/>
  <title>Research - The Financial Bird</title>
</head>
<body onload="initTheme();initHeaderBindings();">
<header class="header">
  <div class="inner">
    <div class="site-title">
      <img class="logo" src="assets/financial-bird-logo.png" alt="The Financial Bird logo"/>
      <h1>The Financial Bird</h1>
      <label class="switch" style="margin-left:auto">
        <span class="small">Theme</span>
        <input id="themeToggle" type="checkbox"/>
      </label>
      <a id="subscribeBtn" class="button secondary" href="#">Subscribe</a>
    </div>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a class="active" href="research.html">Research</a>
      <a href="calendars.html">Calendars</a>
      <a href="portfolio.html">TFB Portfolio</a>
      <a href="blog.html">Blog</a>
      <a href="stocks-to-watch.html">Stocks to Watch</a>
      <a href="about.html">About</a>
    </nav>
  </div>
</header>

<main class="container">
  <!-- The weekly research note will be injected here -->
  <div id="researchContent"></div>

  <!-- Link to the archive page (optional, keep if you use it) -->
  <div style="margin-top:16px">
    <a class="button secondary" href="research-archive.html">See research archive</a>
  </div>
</main>

<footer class="footer">Â© 2025 The Financial Bird</footer>

<!-- Scripts required by the site -->
<script src="assets/util.js"></script>
<script src="assets/ai.js"></script>

<!-- 7-day TTL wrapper: clears old cache and renders the weekly research -->
<script>
(function(){
  var TTL = 604800000; // 7 days in ms
  try {
    var ts = parseInt(localStorage.getItem('tfb_research_ts') || '0', 10);
    if (!ts || Date.now() - ts >= TTL) {
      localStorage.removeItem('tfb_research_html');
      localStorage.removeItem('tfb_research_week');
    }
  } catch (e) {}

  document.addEventListener('DOMContentLoaded', function(){
    try {
      renderResearch('#researchContent');
      localStorage.setItem('tfb_research_ts', String(Date.now()));
    } catch (e) {}
  });
})();
</script>
</body>
</html>
